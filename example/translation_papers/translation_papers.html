<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>translation papers</title>
		<style type="text/css">
			html,body{
				margin: 0;
				padding: 0;
				border: 0;
				width: 100%;
				height: 100%;
			}
			body{
				display: flex;
				flex-direction: column;
			}
			textarea {
				display: block;
				outline: none;
			}
		</style>
		<script type="text/javascript" src="../../src/thirdparty/tex-svg.js"></script>
		<link rel="stylesheet" type="text/css" href="../../src/editor.css" />
		<link rel="stylesheet" type="text/css" href="./translation_papers.css" />
		<link rel="stylesheet" type="text/css" href="./iconfont/iconfont.css" />
	</head>
	<body>
		<!-- 数学公式输入 -->
		<div id="mathjaxContainer">
			<div class="mathjax">
				<div class="img">
					<!-- <img id="mathjaxImg"> -->
				</div>
				<div id="mathjaxTexContainer"></div>
				<div class="button">
					<div id="addMathjaxButton">添加</div>
					<div id="reduceMathjaxButton">减少</div>
					<div id="comfirmMathjaxButton">确定</div>
					<div id="cancelMathjaxButton">取消</div>
				</div>
			</div>
		</div>
		<div id="imageContainer">
			<div id="image">
				<div id="imageContent">
					<img id="showImage" />
				</div>
				<div id="imageTitle">
					<input id="titleInput" type="text" >
				</div>
				<div class="button">
					<div>
						<input id="imageImport" type="file" name="">
						导入
					</div>
					<div id="imageComfirm">确定</div>
					<div id="imageCancel">取消</div>
				</div>
			</div>
		</div>
		<div class="editor_tool">
			<div id="mathjaxButton" class="button"><icon class="iconfont icon-fsux_tubiao_gongshi_jisuan"></icon></div>
			<div id="paragraphAndHeader" class="button">
				<div id="paragraphAndHeaderSelected">正文和标题</div>
				<div id="paragraphAndHeaderSelection">
					<div class="selection">正文</div>
					<div class="selection">h1</div>
					<div class="selection">h2</div>
					<div class="selection">h3</div>
				</div>
			</div>
			<div id="imageButton" class="button"><icon class="iconfont icon-tupian"></icon></div>
			<div id="listButton" class="button">
				<icon class="iconfont icon-liebiaomoshi"></icon>
				<div id="listSelection">
					<div class="selection">小写英文</div>
					<div class="selection">大写英文</div>
					<div class="selection">数字</div>
					<div class="selection">自定义</div>
				</div>
			</div>
		</div>
		<div id="operation-index">
			<div id="editor-english" class="editor"></div>
			<div id="editor-chinese" class="editor"></div>
		</div>
	</body>
	<script type="module">
		import Editor from '../../src/editor.js';
		import initMathjax from './init_editor_tool/mathjax_tex.js';
		import initParagraphAndHeader from './init_editor_tool/paragraph_and_header.js';
		import initImage from './init_editor_tool/image.js';
		import initList from './init_editor_tool/list.js';

		import { original, translation } from '../paper/Simple and Efficient Bilayer Cross Counting/Simple and Efficient Bilayer Cross Counting.js';

		let
			editorEnglish = new Editor(document.getElementById('editor-english'), original)
					.setEditable(false),
			editorChinese = new Editor(document.getElementById('editor-chinese'), translation);

		window.editorChinese = editorChinese;
		window.editorEnglish = editorEnglish;

		function rememberRange(){
			setTimeout(()=>{
				editorChinese.setRange();
			}, 0)
		}

		editorChinese.editorDom.addEventListener('mousedown', rememberRange);
		editorChinese.editorDom.addEventListener('keydown', rememberRange);

		initMathjax(editorEnglish, editorChinese);
		initParagraphAndHeader(editorEnglish, editorChinese);
		initImage(editorEnglish, editorChinese);
		initList(editorEnglish, editorChinese);

	</script>
</html>